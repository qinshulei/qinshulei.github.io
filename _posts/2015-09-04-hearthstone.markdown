---
layout: post
title:  "炉石传说应该开哪个包"
date:   2015-09-04 23:34:01
categories: game
tages: game hearthstone
---

很多游戏都不玩了，觉的收益过低(话说要让小孩不痴迷于游戏是不是应该教他们编程呢~)。不过炉石传说偶尔还会玩一玩，花点钱直接买卡包，然后就可以组(kai)卡(bao)的乐趣。:smile:。

前前后后也买了不少卡包了，现在三种卡包经典包 ， 地精包， 冠军包，每种开包都开了一些。最开始的时候直接开新出的卡包的收益最高，很明显。但开到后期，每个包都开过一些后，开哪个最合算就不那么直观了。当然直接开自己传说收集率最低的应该错不到哪里去。不过我还是想认真考虑一下。

对过程不感兴趣可以直接使用 [开包收益计算器](http://www.qinshulei.cn/hearthstone-tools/#/)

----------------------------------------------------------------

那么首先是开一包的收益如何计算。在不考虑什么实用不实用的情况下，我认为可以用实际获得的粉尘来计算。如果开出了自己没有的卡牌，那就是获得了对应卡牌合成价格的粉尘，如果开出了重复的那就是获得了分解价值的粉尘。

+ 然后一张卡的开出各种稀有度的概率如下：

```
普通 = 70%
稀有 = 21.4%
史诗 = 4.28%
传说 = 1.08%

金色普通 = 1.47%
金色稀有 = 1.37%
金色史诗 = 0.308%
金色传说 = 0.111%
```

+ 一张卡合成和分解的对应粉尘如下：

```
普通牌(白色)——分解得到5点奥术之尘/合成需要40点奥术之尘
稀有牌(蓝色)——分解得到20点奥术之尘/合成需要100点奥术之尘
史诗牌(紫色)——分解得到100点奥术之尘/合成需要400点奥术之尘
传说牌(橙色)——分解得到400点奥术之尘/合成需要1600点奥术之尘

普通金色牌——分解得到50点奥术之尘/合成需要400点奥术之尘
稀有金色牌——分解得到100点奥术之尘/合成需要800点奥术之尘
史诗金色牌——分解得到400点奥术之尘/合成需要1600点奥术之尘
传说金色牌——分解得到1600点奥术之尘/合成需要3200点奥术之尘
```

因此我们假设 对于某种类型的卡包有普通 稀有 史诗 传说 以及金色卡牌总数为:
> total_normal
> total_rare
> total_epic
> total_legend
> total_gold_normal
> total_gold_rare
> total_gold_epic
> total_gold_legend

假设我们拥有某种类型的开包的 普通 稀有 史诗 传说 以及金色卡牌的数量为：
> current_normal
> current_rare
> current_epic
> current_legend
> current_gold_normal
> current_gold_rare
> current_gold_epic
> current_gold_legend

那么我们一包的期望收益就是:

```
( 70% * (current_normal / total_normal) * 5
+ 70% * (1 - current_normal / total_normal) * 40
+ 21.4% * (current_rare / total_rare) * 20
+ 21.4% * (1 - current_rare / total_rare) * 100
+ 4.28% * (current_epic / total_epic) * 100
+ 4.28% * (1 - current_epic / total_epic) * 400
+ 1.08% * (current_legend / total_legend) * 400
+ 1.08% * (1 - current_legend / total_legend) * 1600
+ 1.47% * (current_gold_normal / total_gold_normal) * 50
+ 1.47% * (1 - current_gold_normal / total_gold_normal) * 400
+ 1.37% * (current_gold_rare / total_gold_rare) * 100
+ 1.37% * (1 - current_gold_rare / total_gold_rare) * 800
+ 0.308% * (current_gold_epic / total_gold_epic) * 400
+ 0.308% * (1 - current_gold_epic / total_gold_epic) * 1600
+ 0.111% * (current_gold_legend / total_gold_legend) * 1600
+ 0.111% * (1 - current_gold_legend / total_gold_legend) * 3200 ) * 5
```

把一张卡开出所有可能下获得的粉尘分别乘以出现这种情况的概率，再全部相加，就是一张卡的期望收益，最后再乘以5就是一包卡的期望收益.

然后是目前三套卡的数量：

```
经典包
普通: 94张  (*2)
稀有: 81张  (*2）
史诗: 37张  (*2)
传说: 33张  (*1)

地精包
普通：40张 (*2)
稀有：37张 (*2)
史诗：26张 (*2)
传说：20张 (*1)

冠军包
普通：49张 (*2)
稀有：36张 (*2)
史诗：27张 (*2)
传说：20张 (*1)
```

可以看出来三套卡包每种卡的比例还是比较接近的，暴雪没有让某个卡包平均收益和之前有明显差异。

让我们以经典包为例计算一下几个有代表性节点的收益

第一次开包的收益：

```
( 70%  * 40 + 21.4% * 100 + 4.28% * 400 + 1.08% * 1600 + 1.47% * 400 + 1.37% * 800 + 0.308% * 1600 + 0.111% * 3200 ) * 5

= 545.6
```

然后普通蓝白卡齐全史诗和传说一张都没有以后开一包的收益吧：

```
( 70%  * 5 + 21.4% * 20 + 4.28% * 400 + 1.08% * 1600 + 1.47% * 400 + 1.37% * 800 + 0.308% * 1600 + 0.111% * 3200 ) * 5

= 337.5
```

然后普通蓝白史诗和传说齐全，金色一张都没有的情况下的开包的收益：

```
( 70%  * 5 + 21.4% * 20 + 4.28% * 100 + 1.08% * 400 + 1.47% * 400 + 1.37% * 800 + 0.308% * 1600 + 0.111% * 3200 ) * 5

= 208.5
```


最后算一下全卡后的收益：

```
( 70%  * 5 + 21.4% * 20 + 4.28% * 100 + 1.08% * 400 + 1.47% * 50 + 1.37% * 100 + 0.308% * 400 + 0.111% * 1600 ) * 5

= 107.465
```

也就是说最开始开包的平均收益是五张稀有，蓝白卡齐全以后收益是三张稀有。除金色外全卡后平均是两张稀有。包括金色全卡后的收益只有一张稀有。

换一种眼光来看，第一次开包平均3包能获得等同于一张普通传说价值的收益。
到了中期需要5包换取等同于普通传说的收益。
到了除金色以外全卡时，要8包。
到了真×全卡阶段则要接近16包。。。。。。:cry:

大家最痛恨的莫过于蓝天白云（一张稀有四张普通），然后分解只得40尘，由上面的计算我们比较可以看出，这种收益是远低于平均水平的。然而平均收益最差都有107说明，
开出史实和传说的收益巨大，拉高了平均收益。所以开包最重要的就是开史诗和开传说。。

最后数自己每个包已有卡牌还是挺麻烦的，不知道有没有方法，直接读取用户的卡牌收集信息。估计网易的盒子应该有这个能力，如果谁有途径，可以给他们提提建议，加这个功能。
